"use strict";(self.webpackChunkdocdevtron=self.webpackChunkdocdevtron||[]).push([[2395],{6641:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"user-guide/global-configurations/plugin-policy","title":"Plugin Policy","description":"Introduction","source":"@site/docs/user-guide/global-configurations/plugin-policy.md","sourceDirName":"user-guide/global-configurations","slug":"/user-guide/global-configurations/plugin-policy","permalink":"/docs/user-guide/global-configurations/plugin-policy","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Approval Policy","permalink":"/docs/user-guide/global-configurations/approval-policy"},"next":{"title":"Pull Image Digest","permalink":"/docs/user-guide/global-configurations/pull-image-digest"}}');var l=n(4848),o=n(8453);const t={},r="Plugin Policy",a={},c=[{value:"Introduction <a></a>",id:"introduction-",level:2},{value:"Tutorial",id:"tutorial",level:2},{value:"Creating a Plugin Policy",id:"creating-a-plugin-policy",level:2},{value:"Applying a Plugin Policy",id:"applying-a-plugin-policy",level:2},{value:"Results",id:"results",level:2}];function p(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.header,{children:(0,l.jsx)(i.h1,{id:"plugin-policy",children:"Plugin Policy"})}),"\n",(0,l.jsxs)(i.h2,{id:"introduction-",children:["Introduction ",(0,l.jsx)("a",{href:"https://devtron.ai/pricing",children:(0,l.jsx)("img",{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/elements/EnterpriseTag.svg",className:"enterprise-badge-img"})})]}),"\n",(0,l.jsxs)(i.p,{children:["Your ",(0,l.jsx)(i.a,{href:"/docs/user-guide/creating-application/workflow/",children:"application workflow"})," should follow certain standards and precautions to ensure reliability and a smooth release. For example, mandating load testing for production deployments might help you identify performance bottlenecks early rather than face possible outages, unhappy users, or revenue loss."]}),"\n",(0,l.jsxs)(i.p,{children:["The ",(0,l.jsx)(i.strong,{children:"Plugin Policy"})," feature in Devtron lets you enforce the presence of specific ",(0,l.jsx)(i.a,{href:"/docs/user-guide/plugins/",children:"plugins"})," at various stages in your application's build and deployment pipelines, such as ",(0,l.jsx)(i.a,{href:"/docs/reference/glossary#pre-build",children:"pre-build"}),", ",(0,l.jsx)(i.a,{href:"/docs/reference/glossary#post-build",children:"post-build"}),", ",(0,l.jsx)(i.a,{href:"/docs/reference/glossary#pre-deployment",children:"pre-deployment"}),", or ",(0,l.jsx)(i.a,{href:"/docs/reference/glossary#post-deployment",children:"post-deployment"}),". Therefore, if the required plugins do not exist in the specified stage(s), you can decide the action (whether to allow or block the pipeline trigger)."]}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/plugin-policy-main.gif",alt:"Figure 1: How Plugin Policy Works"})}),"\n",(0,l.jsx)(i.hr,{}),"\n",(0,l.jsx)(i.h2,{id:"tutorial",children:"Tutorial"}),"\n",(0,l.jsx)("div",{class:"video-wrapper",children:(0,l.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/Cb25p_n3YTs",title:"Using Plugin Policy in Devtron",frameborder:"0",allowfullscreen:!0})}),"\n",(0,l.jsx)(i.hr,{}),"\n",(0,l.jsx)(i.h2,{id:"creating-a-plugin-policy",children:"Creating a Plugin Policy"}),"\n",(0,l.jsx)(i.admonition,{title:"Who Can Perform This Action?",type:"caution",children:(0,l.jsx)(i.p,{children:"Users need to have super-admin permission to create a plugin policy."})}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsxs)(i.p,{children:["Go to",(0,l.jsx)(i.strong,{children:"Application Management"})," \u2192 ",(0,l.jsx)(i.strong,{children:"Policies"})," \u2192 ",(0,l.jsx)(i.strong,{children:"Plugin Policy"}),"."]}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/gc-plugin-policy.jpg",alt:"Figure 2: Plugin Policy"})}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsxs)(i.p,{children:["Click ",(0,l.jsx)(i.strong,{children:"+ Create Profile"}),"."]}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/create-profile-button.jpg",alt:"Figure 3: Create Profile Button"})}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsxs)(i.p,{children:["Give a name to the profile, e.g., ",(0,l.jsx)(i.em,{children:(0,l.jsx)(i.code,{children:"check-jira"})}),", and add a description (optional) preferably explaining what it does."]}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/pipeline-type.jpg",alt:"Figure 4: Choosing a Pipeline Type"})}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsxs)(i.p,{children:["Choose whether the profile should apply to the ",(0,l.jsx)(i.strong,{children:"Build pipeline"})," or the ",(0,l.jsx)(i.strong,{children:"Deployment pipeline"}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(i.admonition,{title:"Note",type:"caution",children:(0,l.jsx)(i.p,{children:"A single policy cannot apply to both build and deployment pipelines simultaneously. You can create separate policies instead."})}),"\n",(0,l.jsxs)(i.ol,{start:"5",children:["\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsxs)(i.p,{children:["Under ",(0,l.jsx)(i.strong,{children:"Mandatory Plugin(s)"}),", click ",(0,l.jsx)(i.strong,{children:"Add Plugin"}),"."]}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/add-plugin-button.jpg",alt:"Figure 5: 'Add Plugin' Option"})}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsx)(i.p,{children:"A list of plugins will appear for you to choose from. Select one or more plugins to make them mandatory for the pipeline you selected in step 4."}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/choose-plugins.gif",alt:"Figure 6: Finding and Choosing Plugins"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(i.admonition,{title:"Tip",type:"info",children:(0,l.jsx)(i.p,{children:"There is a search box for you to quickly find the plugins. Moreover, since plugins are classified by tags, you can use the tag filter to find your intended plugins."})}),"\n",(0,l.jsxs)(i.ol,{start:"7",children:["\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsxs)(i.p,{children:["Click ",(0,l.jsx)(i.strong,{children:"Done"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsx)(i.p,{children:"Use the dropdown menu to choose the stage (pre or post) at which you wish to enforce your chosen plugin(s). You can select mixed stages too."}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/choose-stage.gif",alt:"Figure 7: Finding and Choosing Plugins"})}),"\n",(0,l.jsxs)(i.p,{children:["Here, ",(0,l.jsx)(i.code,{children:"Pre"})," means before and ",(0,l.jsx)(i.code,{children:"Post"})," means after."]}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsx)(i.p,{children:"Decide the action that the system should take in case your policy is not followed by the intended pipelines in your application workflow."}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/take-action.jpg",alt:"Figure 8: Taking Action"})}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Allow respective triggers with warning"})," - This will allow the non-compliant pipeline to run. However, it will display an 'Action required' warning at the intended stage (pre/post) of the pipeline in the application's workflow."]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Block respective triggers immediately"})," - This will not allow the non-compliant pipeline to run (whether manual execution or automated) effective immediately, unless the user configures the mandatory plugins."]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Block respective triggers from date/time"})," - This will allow the non-compliant pipeline to run only till a given date and time. After that, it will block the non-compliant pipeline unless the user configures the mandatory plugins."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsxs)(i.p,{children:["Click ",(0,l.jsx)(i.strong,{children:"Save Changes"}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(i.hr,{}),"\n",(0,l.jsx)(i.h2,{id:"applying-a-plugin-policy",children:"Applying a Plugin Policy"}),"\n",(0,l.jsx)(i.admonition,{title:"Who Can Perform This Action?",type:"caution",children:(0,l.jsx)(i.p,{children:"Users need to have super-admin permission to apply a plugin policy."})}),"\n",(0,l.jsxs)(i.ol,{children:["\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsxs)(i.p,{children:["After you create a policy, you can apply it. Click ",(0,l.jsx)(i.strong,{children:"Apply Profile"})," on the same screen."]}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/apply-plugin-policy.jpg",alt:"Figure 9: Apply Profile Button"})}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsxs)(i.p,{children:["From the ",(0,l.jsx)(i.strong,{children:"Select profiles to apply"})," dropdown, choose the policy you wish to apply. You also have the option to select more than one policy (if they exist) using the checkbox."]}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/select-profiles.jpg",alt:"Figure 10: Selecting Profiles"})}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsxs)(i.p,{children:["Under ",(0,l.jsx)(i.strong,{children:"Apply selected policies to all pipelines"}),":"]}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Global"})," - Select this option to apply your chosen policies to all application workflows across all clusters."]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"By Match Criteria"})," - Select this option to use a combination of filters to decide the target pipelines fulfilling your criteria. Your policy will only apply to such target pipelines."]}),"\n"]}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/select-scope.jpg",alt:"Figure 11: Choosing Scope"})}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsxs)(i.p,{children:["(",(0,l.jsxs)(i.em,{children:["Skip this if you chose ",(0,l.jsx)(i.strong,{children:"Global"})," in the previous step"]}),") Upon choosing the ",(0,l.jsx)(i.strong,{children:"By Match Criteria"})," option, the following match criteria are available for you:"]}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"Project"}),"\n",(0,l.jsx)(i.li,{children:"Application"}),"\n",(0,l.jsx)(i.li,{children:"Cluster"}),"\n",(0,l.jsx)(i.li,{children:"Environment"}),"\n",(0,l.jsx)(i.li,{children:"Branch fixed"}),"\n",(0,l.jsx)(i.li,{children:"Branch regex"}),"\n"]}),"\n",(0,l.jsx)(i.p,{children:"Once you select the criteria, choose the value displayed to you in the dropdown list as shown below."}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/match-criteria.gif",alt:"Figure 12: Deciding Matching Criteria for Pipelines"})}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsx)(i.p,{children:"(Optional) You may also write a note for your other team members to understand the intent and context of your policy."}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/leave-note.gif",alt:"Figure 13: Deciding Matching Criteria for Pipelines"})}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:["\n",(0,l.jsxs)(i.p,{children:["Click ",(0,l.jsx)(i.strong,{children:"Save Changes"}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(i.p,{children:"Once you apply the plugin policy, you can view the pipelines that are not adhering to your policy as shown below. Clicking on the non-compliant pipeline will take you directly to the application workflow prompting you to take action."}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/non-compliant-pipelines.gif",alt:"Figure 14: Non-compliant Pipelines"})}),"\n",(0,l.jsx)(i.hr,{}),"\n",(0,l.jsx)(i.h2,{id:"results",children:"Results"}),"\n",(0,l.jsx)(i.p,{children:"Since we created a policy that blocks the trigger of non-compliant deployment pipelines, no user can trigger the deployment unless the mandatory plugins are configured as shown below."}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/blocked-deployment.gif",alt:"Figure 15: Blocked Non-compliant CD Pipeline"})}),"\n",(0,l.jsxs)(i.p,{children:["On the other hand, if you selected ",(0,l.jsx)(i.strong,{children:"Build pipeline"})," in step 4 of ",(0,l.jsx)(i.a,{href:"#creating-a-plugin-policy",children:"Creating Plugin Policy"}),", the build trigger would get blocked as shown below."]}),"\n",(0,l.jsx)(i.p,{children:(0,l.jsx)(i.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/plugin-policy/blocked-build.gif",alt:"Figure 16: Blocked Non-compliant CI Pipeline"})})]})}function d(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,l.jsx)(i,{...e,children:(0,l.jsx)(p,{...e})}):p(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>t,x:()=>r});var s=n(6540);const l={},o=s.createContext(l);function t(e){const i=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(o.Provider,{value:i},e.children)}}}]);