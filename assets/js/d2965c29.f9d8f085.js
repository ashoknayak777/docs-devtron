"use strict";(self.webpackChunkdocdevtron=self.webpackChunkdocdevtron||[]).push([[1880],{5468:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"user-guide/plugins/cosign","title":"Cosign","description":"Introduction","source":"@site/docs/user-guide/plugins/cosign.md","sourceDirName":"user-guide/plugins","slug":"/user-guide/plugins/cosign","permalink":"/docs/user-guide/plugins/cosign","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Copy Container Image","permalink":"/docs/user-guide/plugins/copy-container-image"},"next":{"title":"CraneCopy","permalink":"/docs/user-guide/plugins/crane-copy"}}');var s=i(4848),r=i(8453);const o={},d="Cosign",l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Steps",id:"steps",level:2},{value:"User Inputs",id:"user-inputs",level:2},{value:"Task Name",id:"task-name",level:3},{value:"Description",id:"description",level:3},{value:"Input Variables",id:"input-variables",level:3},{value:"Trigger/Skip Condition",id:"triggerskip-condition",level:3},{value:"Output Variables",id:"output-variables",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cosign",children:"Cosign"})}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Cosign"})," plugin by Devtron enables secure signing of your container images, enhancing supply chain security. It authenticates your identity as the creator and ensures image integrity, allowing users to verify the source and detect any tampering. This provides greater assurance to developers incorporating your artifacts into their workflows."]}),"\n",(0,s.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.p,{children:["Before integrating the Cosign plugin, ensure that you have configured the ",(0,s.jsx)(n.a,{href:"https://github.com/sigstore/cosign",children:"Cosign"})," and have a set of private and public keys to sign the container images."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"steps",children:"Steps"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Go to ",(0,s.jsx)(n.strong,{children:"Application Management"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Applications"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Devtron Apps"})," (tab)."]}),"\n",(0,s.jsx)(n.li,{children:"Click your application."}),"\n",(0,s.jsxs)(n.li,{children:["Go to ",(0,s.jsx)(n.strong,{children:"Configurations"})," (tab) \u2192 ",(0,s.jsx)(n.strong,{children:"Workflow Editor"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"New Workflow"})," and navigate to the ",(0,s.jsx)(n.strong,{children:"Build and Deploy from Source Code"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Fill the required fields in the ",(0,s.jsx)(n.strong,{children:"Create build pipeline"})," window and navigate to the ",(0,s.jsx)(n.strong,{children:"Post-build stage"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{type:"caution",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsxs)(n.p,{children:["If you have already configured workflow, edit the build pipeline, and navigate to ",(0,s.jsx)(n.strong,{children:"Post-build stage"}),"."]})]}),"\n",(0,s.jsxs)(n.ol,{start:"6",children:["\n",(0,s.jsxs)(n.li,{children:["Under 'TASKS', click the ",(0,s.jsx)(n.strong,{children:"+ Add task"})," button."]}),"\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Cosign"})," plugin."]}),"\n",(0,s.jsxs)(n.li,{children:["Enter the following ",(0,s.jsx)(n.a,{href:"#user-inputs",children:"user inputs"})," with appropriate values."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"user-inputs",children:"User Inputs"}),"\n",(0,s.jsx)(n.h3,{id:"task-name",children:"Task Name"}),"\n",(0,s.jsx)(n.p,{children:"Enter the name of your task"}),"\n",(0,s.jsxs)(n.p,{children:["e.g., ",(0,s.jsx)(n.code,{children:"Signing of container images"})]}),"\n",(0,s.jsx)(n.h3,{id:"description",children:"Description"}),"\n",(0,s.jsx)(n.p,{children:"Add a brief explanation of the task and the reason for choosing the plugin. Include information for someone else to understand the purpose of the task."}),"\n",(0,s.jsxs)(n.p,{children:["e.g., ",(0,s.jsx)(n.code,{children:"The Cosign plugin is integrated for  ensuring the authenticity of container images."})]}),"\n",(0,s.jsx)(n.h3,{id:"input-variables",children:"Input Variables"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Variable"}),(0,s.jsx)(n.th,{children:"Format"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Sample Value"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PrivateKeyFilePath"}),(0,s.jsx)(n.td,{children:"STRING"}),(0,s.jsx)(n.td,{children:"Path of private key file in Git repo"}),(0,s.jsx)(n.td,{children:"cosign/cosign.key"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PostCommand"}),(0,s.jsx)(n.td,{children:"STRING"}),(0,s.jsx)(n.td,{children:"Command to run after image is signed by Cosign"}),(0,s.jsx)(n.td,{children:"cosign verify $DOCKER_IMAGE"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"ExtraArguments"}),(0,s.jsx)(n.td,{children:"STRING"}),(0,s.jsx)(n.td,{children:"Arguments for Cosign command"}),(0,s.jsxs)(n.td,{children:["--certificate-identity=",(0,s.jsx)(n.a,{href:"mailto:name@example.com",children:"name@example.com"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CosignPassword"}),(0,s.jsx)(n.td,{children:"STRING"}),(0,s.jsx)(n.td,{children:"Password for Cosign private key"}),(0,s.jsx)(n.td,{children:"S3cur3P@ssw0rd123!"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"VariableAsPrivateKey"}),(0,s.jsx)(n.td,{children:"STRING"}),(0,s.jsx)(n.td,{children:"base64 encoded private-key"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"@{{COSIGN_PRIVATE_KEY}}"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PreCommand"}),(0,s.jsx)(n.td,{children:"STRING"}),(0,s.jsx)(n.td,{children:"Command to get the required conditions to execute Cosign command"}),(0,s.jsxs)(n.td,{children:["curl -sLJO ",(0,s.jsx)(n.a,{href:"https://raw.githubusercontent.com/devtron-labs/sampleRepo/branchName/private",children:"https://raw.githubusercontent.com/devtron-labs/sampleRepo/branchName/private"})]})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"triggerskip-condition",children:"Trigger/Skip Condition"}),"\n",(0,s.jsxs)(n.p,{children:["Here you can set conditions to execute or skip the task. You can select ",(0,s.jsx)(n.code,{children:"Set trigger conditions"})," for the execution of a task or ",(0,s.jsx)(n.code,{children:"Set skip conditions"})," to skip the task."]}),"\n",(0,s.jsx)(n.h3,{id:"output-variables",children:"Output Variables"}),"\n",(0,s.jsx)(n.p,{children:"Cosign will not be generating an output variable."}),"\n",(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(n.strong,{children:"Update Pipeline"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>d});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);