<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-user-guide/creating-application/workflow/pre-post-tasks" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Pre/Post Stages | Devtron Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/devtron-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/devtron-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.venz.shop/docs/user-guide/creating-application/workflow/pre-post-tasks"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Pre/Post Stages | Devtron Docs"><meta data-rh="true" name="description" content="The build and deployment pipelines also include a pre stage and a post stage:"><meta data-rh="true" property="og:description" content="The build and deployment pipelines also include a pre stage and a post stage:"><link data-rh="true" rel="icon" href="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/devtron-favicon.png"><link data-rh="true" rel="canonical" href="https://docs.venz.shop/docs/user-guide/creating-application/workflow/pre-post-tasks"><link data-rh="true" rel="alternate" href="https://docs.venz.shop/docs/user-guide/creating-application/workflow/pre-post-tasks" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.venz.shop/docs/user-guide/creating-application/workflow/pre-post-tasks" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Application Management","item":"https://docs.venz.shop/docs/user-guide/app-management/"},{"@type":"ListItem","position":2,"name":"Applications","item":"https://docs.venz.shop/docs/user-guide/applications"},{"@type":"ListItem","position":3,"name":"App Configuration","item":"https://docs.venz.shop/docs/user-guide/creating-application/"},{"@type":"ListItem","position":4,"name":"Workflow Editor","item":"https://docs.venz.shop/docs/user-guide/creating-application/workflow/"},{"@type":"ListItem","position":5,"name":"Pre/Post Stages","item":"https://docs.venz.shop/docs/user-guide/creating-application/workflow/pre-post-tasks"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Devtron Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Devtron Docs Atom Feed"><link rel="stylesheet" href="/assets/css/styles.500152f5.css">
<script src="/assets/js/runtime~main.17d2268d.js" defer="defer"></script>
<script src="/assets/js/main.f7c11f29.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/hlogos/devtron-logo-horizontal-dual.svg"><link rel="preload" as="image" href="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/hlogos/devtron-logo-horizontal-white.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/hlogos/devtron-logo-horizontal-dual.svg" alt="Devtron Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/hlogos/devtron-logo-horizontal-white.svg" alt="Devtron Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar-docs-link navbar__link--active" href="/docs">Docs</a><a href="https://devtron.ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Website<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://preview.devtron.ai/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sandbox<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_dCNk"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://license.devtron.ai/dashboard" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link shimmer-button-freemium">Get Devtron Freemium<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://devtron.ai/contact-sales" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link shimmer-button-enterprise">Get Devtron Enterprise<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_x44X"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/user-guide/app-management"><span title="Application Management" class="categoryLinkLabel_W154">Application Management</span></a><button aria-label="Collapse sidebar category &#x27;Application Management&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/app-management/application-overview"><span title="Application Overview" class="linkLabel_WmDU">Application Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/user-guide/applications"><span title="Applications" class="categoryLinkLabel_W154">Applications</span></a><button aria-label="Collapse sidebar category &#x27;Applications&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/create-application"><span title="Create a New Application" class="linkLabel_WmDU">Create a New Application</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/cloning-application"><span title="Cloning Application" class="linkLabel_WmDU">Cloning Application</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/using-application-templates"><span title="Creating Application From Template" class="linkLabel_WmDU">Creating Application From Template</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/deploy-sample-app/nodejs_app"><span title="Let&#x27;s deploy a sample App" class="linkLabel_WmDU">Let&#x27;s deploy a sample App</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/user-guide/creating-application"><span title="App Configuration" class="categoryLinkLabel_W154">App Configuration</span></a><button aria-label="Collapse sidebar category &#x27;App Configuration&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/creating-application/git-material"><span title="Git Repository" class="linkLabel_WmDU">Git Repository</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/creating-application/docker-build-configuration"><span title="Build Configuration" class="linkLabel_WmDU">Build Configuration</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/user-guide/creating-application/base-config"><span title="Base Configurations" class="categoryLinkLabel_W154">Base Configurations</span></a><button aria-label="Expand sidebar category &#x27;Base Configurations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/creating-application/gitops-config"><span title="GitOps Configuration" class="linkLabel_WmDU">GitOps Configuration</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/user-guide/creating-application/workflow"><span title="Workflow Editor" class="categoryLinkLabel_W154">Workflow Editor</span></a><button aria-label="Collapse sidebar category &#x27;Workflow Editor&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/creating-application/workflow/ci-pipeline"><span title="CI Pipeline" class="linkLabel_WmDU">CI Pipeline</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/creating-application/workflow/cd-pipeline"><span title="CD Pipeline" class="linkLabel_WmDU">CD Pipeline</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/user-guide/creating-application/workflow/pre-post-tasks"><span title="Pre/Post Stages" class="linkLabel_WmDU">Pre/Post Stages</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/creating-application/environment-overrides"><span title="Environment Overrides" class="linkLabel_WmDU">Environment Overrides</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/deleting-application"><span title="Deleting Application" class="linkLabel_WmDU">Deleting Application</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/user-guide/deploying-application"><span title="Build and Deploy" class="categoryLinkLabel_W154">Build and Deploy</span></a><button aria-label="Expand sidebar category &#x27;Build and Deploy&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/user-guide/app-details"><span title="App Details" class="categoryLinkLabel_W154">App Details</span></a><button aria-label="Expand sidebar category &#x27;App Details&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/creating-application/overview"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/application-groups"><span title="Application Groups" class="linkLabel_WmDU">Application Groups</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/user-guide/deploy-chart"><span title="Chart Store" class="categoryLinkLabel_W154">Chart Store</span></a><button aria-label="Expand sidebar category &#x27;Chart Store&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/bulk-update"><span title="Bulk Updates" class="linkLabel_WmDU">Bulk Updates</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/global-configurations/application-template"><span title="Application Templates" class="linkLabel_WmDU">Application Templates</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/user-guide/global-configurations/projects"><span title="Projects" class="linkLabel_WmDU">Projects</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/user-guide/app-configurations"><span title="Configurations" class="categoryLinkLabel_W154">Configurations</span></a><button aria-label="Expand sidebar category &#x27;Configurations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/user-guide/policies"><span title="Policies" class="categoryLinkLabel_W154">Policies</span></a><button aria-label="Expand sidebar category &#x27;Policies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/user-guide/infra-management"><span title="Infrastructure Management" class="categoryLinkLabel_W154">Infrastructure Management</span></a><button aria-label="Expand sidebar category &#x27;Infrastructure Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/user-guide/software-distribution-hub"><span title="Software Distribution Hub" class="categoryLinkLabel_W154">Software Distribution Hub</span></a><button aria-label="Expand sidebar category &#x27;Software Distribution Hub&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/user-guide/finops"><span title="Cost Visibility" class="categoryLinkLabel_W154">Cost Visibility</span></a><button aria-label="Expand sidebar category &#x27;Cost Visibility&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/user-guide/security-features"><span title="Security" class="categoryLinkLabel_W154">Security</span></a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/user-guide/automation"><span title="Automation &amp; Enablement" class="categoryLinkLabel_W154">Automation &amp; Enablement</span></a><button aria-label="Expand sidebar category &#x27;Automation &amp; Enablement&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/user-guide/storageops"><span title="Backup &amp; Restore" class="categoryLinkLabel_W154">Backup &amp; Restore</span></a><button aria-label="Expand sidebar category &#x27;Backup &amp; Restore&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/user-guide/ai-recommendations"><span title="AI Recommendations" class="categoryLinkLabel_W154">AI Recommendations</span></a><button aria-label="Expand sidebar category &#x27;AI Recommendations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/user-guide/global-configurations"><span title="Global Configurations" class="categoryLinkLabel_W154">Global Configurations</span></a><button aria-label="Expand sidebar category &#x27;Global Configurations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/reference/resources"><span title="Resources" class="categoryLinkLabel_W154">Resources</span></a><button aria-label="Expand sidebar category &#x27;Resources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/user-guide/app-management"><span>Application Management</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/user-guide/applications"><span>Applications</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/user-guide/creating-application"><span>App Configuration</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/user-guide/creating-application/workflow"><span>Workflow Editor</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Pre/Post Stages</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Pre/Post Stages</h1></header>
<p>The build and deployment pipelines also include a pre stage and a post stage:</p>
<ul>
<li><strong>Pre Stage</strong> - Tasks to be executed before the build/deployment pipeline triggers.</li>
<li><strong>Post Stage</strong> - Tasks to be executed only after the successful execution of the build/deployment pipeline.</li>
</ul>
<p><strong>Examples</strong>: Tasks like code analysis, Jira Issue updation, load testing, security scanning, etc.</p>
<ul>
<li><strong>Build Stage</strong> includes <strong>Pre-build stage</strong> and <strong>Post-build stage</strong>.</li>
<li><strong>Deployment Stage</strong> includes <strong>Pre-deployment</strong> and <strong>Post-deployment</strong>.</li>
</ul>
<p>In Devtron, a task is a step within a CI/CD pipeline that runs a specific operation, such as executing a script or running a container image. Tasks can be created using preset plugins or custom scripts, and are executed in sequence to complete the process.</p>
<p>Preset plugins are extensions that allow you to enhance and refine the CI/CD workflow of your application by adding new features, integrating with external tools, and automating tasks. Unlike custom scripts, preset plugins come bundled with specific variables and conditions that help you make the plugins work seamlessly with your CI/CD pipeline.</p>
<p>Some plugins are specific to build pipelines (used in <strong>Pre-Build</strong> and <strong>Post-Build</strong> stages), and some plugins are specific to deployment pipelines (used in <strong>Pre-Deployment</strong> and <strong>Post-Deployment</strong> stages), and some plugins are versatile and can be used in both build and deployment pipelines, depending on your use case.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="before-you-begin">Before you begin<a href="#before-you-begin" class="hash-link" aria-label="Direct link to Before you begin" title="Direct link to Before you begin" translate="no">​</a></h2>
<p>Before you start adding Pre or Post tasks, make sure you have already setup your <a href="/docs/user-guide/creating-application/workflow/ci-pipeline">Build pipeline</a> or <a href="/docs/user-guide/creating-application/workflow/cd-pipeline">Deployment pipeline</a>.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-prepost-tasks">Creating Pre/Post Tasks<a href="#creating-prepost-tasks" class="hash-link" aria-label="Direct link to Creating Pre/Post Tasks" title="Direct link to Creating Pre/Post Tasks" translate="no">​</a></h2>
<p>Each Pre/Post task in the build or deployment stage is executed as a series of events called tasks and includes custom scripts.</p>
<p>You can create one or more tasks. Tasks can be dependent on each other for execution. In other words, the output variable of one task can be used as an input for the next task. Tasks will execute in the order they are arranged and can be rearranged by drag-and-drop; however, the order of passing the variables must be followed.</p>
<p>You can create a task either by selecting one of the available preset plugins or by creating a custom script.</p>
<p>To create a pre/post task, follow the steps below:</p>
<ol>
<li>
<p>Navigate to <strong>Configurations</strong> (tab) → <strong>Workflow Editor</strong> of your Devtron App.</p>
</li>
<li>
<p>Select the Build or Deployment pipeline for configuring the pre/post tasks.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-workflow-editor.jpg" alt="Figure 1: Selecting Workflow" class="img_ev3q"></p>
</li>
<li>
<p>Based on the pipeline you are editing, follow the steps below to add a task:</p>
<ul>
<li>
<p><strong>Build pipelines:</strong> On the <strong>Edit build pipeline</strong> window, select the <strong>Pre-Build stage</strong> or <strong>Post-Build stage</strong> tab.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-edit-build.jpg" alt="Figure 2: Pre/Post-build stages" class="img_ev3q"></p>
</li>
<li>
<p><strong>Deployment pipelines:</strong> On the <strong>Edit deployment pipeline</strong> window, select the <strong>Pre-Deployment stage</strong> or <strong>Post-Deployment stage</strong> tab.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-edit-deploy.jpg" alt="Figure 3: Pre/Post-deployment stages" class="img_ev3q"></p>
</li>
</ul>
</li>
<li>
<p>Select <strong>+ Add task</strong> to add a task.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-add-task.jpg" alt="Figure 4: Adding task" class="img_ev3q"></p>
</li>
<li>
<p>Configure the task using a preset plugin or <strong>Execute custom task</strong>. If you wish, you can add more tasks by clicking on <strong>+ Add task</strong> in the left-side panel.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-configure.jpg" alt="Figure 5: Configuring the task" class="img_ev3q"></p>
</li>
<li>
<p>Click <strong>Update Pipeline</strong>. The pre/post task will be executed when you trigger the next build or deployment.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-update-pipeline.jpg" alt="Figure 6: Select &#x27;Update Pipeline&#x27;" class="img_ev3q"></p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-a-task-using-preset-plugins">Configure a Task using Preset Plugins<a href="#configure-a-task-using-preset-plugins" class="hash-link" aria-label="Direct link to Configure a Task using Preset Plugins" title="Direct link to Configure a Task using Preset Plugins" translate="no">​</a></h3>
<p>In Devtron, preset plugins are pre-defined tasks templates that helps you automate and execute common operations such as provisioning infrastructure, taking backups, exporting container images etc., without writing custom scripts.</p>
<p>Devtron provides a set of built-in preset plugins, and you can also create your own plugins in Devtron according to your specific needs.</p>
<p>Let&#x27;s take <code>Codacy</code> as an example and configure it in the Pre-Build stage in the CI pipeline for finding bugs, detecting dependency vulnerabilities, and enforcing code standards</p>
<p>To create a task using preset plugins, let&#x27;s take <code>Codacy</code> as an example and configure it in the <strong>Pre-Build stage</strong> in the build pipeline for finding bugs, detecting dependency vulnerabilities, and enforcing code standards.</p>
<p>To configure a task using the <strong>Codacy</strong> plugin, follow the steps below:</p>
<ol>
<li>
<p>Navigate to <strong>Pre-Build stage</strong> and select <strong>+Add task</strong>.</p>
</li>
<li>
<p>Search for <code>Codacy</code> in the <strong>Search Plugin</strong> bar and select <strong>Codacy</strong> from the list of plugins.</p>
<ul>
<li>
<p>The right-side panel will display the fields specific to the <strong>Codacy</strong> plugin, which are required to be configured.</p>
</li>
<li>
<p>The left-side panel will now shows a task under <strong>Tasks (IN ORDER OF EXECUTION)</strong>, named after the selected plugin(by default), along with its logo.<br>You can change the task&#x27;s name using the <strong>Task name</strong> field but plugin&#x27;s logo will remain indicating that it is a preset plugin.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-search-codacy.jpg" alt="Figure 7: Searching &#x27;Codacy&#x27; plugin" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-codacy-plugin.jpg" alt="Figure 8: Codacy plugin" class="img_ev3q"></p>
</li>
<li>
<p>Refer the <a href="/docs/user-guide/plugins/codacy">Codacy</a> documentation to configure the <strong>Codacy</strong> fields with appropriate values. You may explore <a href="/docs/user-guide/plugins">Plugins documentation</a> to configure any of the available plugins.</p>
</li>
<li>
<p>After configuring the fields successfully, your task will be created. If you wish, you can add more tasks by clicking on <strong>+ Add task</strong> in the left-side panel.</p>
</li>
<li>
<p>Select <strong>Update pipeline</strong>; The pre/post task will be executed when you trigger the next build or deployment.</p>
</li>
</ol>
<p>Similarly, you can configure any task with a preset plugin in Pre/post-build stages or pre/post-deployment stages.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="execute-custom-task">Execute Custom Task<a href="#execute-custom-task" class="hash-link" aria-label="Direct link to Execute Custom Task" title="Direct link to Execute Custom Task" translate="no">​</a></h3>
<ol>
<li>
<p>After adding the task, select <strong>Execute custom task</strong>.</p>
<ul>
<li>
<p>The right-side panel will display the fields that are required to be configured in order to create the task.</p>
</li>
<li>
<p>The left-side panel will now display a task under <strong>Tasks (IN ORDER OF EXECUTION)</strong>.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-execute-custom-task.jpg" alt="Figure 9: Select &#x27;Execute custom script&#x27;" class="img_ev3q"></p>
</li>
<li>
<p>Enter the Task name (required) and Task Description (optional).</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-custom-task.jpg" alt="Figure 10: Configuring Task" class="img_ev3q"></p>
</li>
<li>
<p>Select the <strong>Task type</strong>, it can be <code>Shell</code> or <code>Container Image</code>.</p>
<ul>
<li>
<p><strong>Shell Tasks</strong>: These execute shell scripts directly within the application runtime environment. In this type of task, you can define inline scripts or use script files from your configured source code.</p>
</li>
<li>
<p><strong>Container Image Tasks</strong>: These allow you to execute commands and scripts inside a custom Docker container. Instead of using the default environment provided by Devtron, you can specify your own container image with all dependencies and tools required for the tasks. <br> These Tasks run using container in container approach, which means the specified image is pulled and run inside the App pod, thus providing a completely isolated environment.</p>
</li>
</ul>
</li>
<li>
<p>After selecting the <strong>Task type</strong>, you need to configure task-specific fields based on that <strong>Task type</strong>. Refer the <a href="#examples-and-use-cases">Examples and Use cases</a> to configure both <strong>Shell type</strong> and <strong>Container image</strong> tasks.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="examples-and-use-cases">Examples and Use Cases<a href="#examples-and-use-cases" class="hash-link" aria-label="Direct link to Examples and Use Cases" title="Direct link to Examples and Use Cases" translate="no">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-1---shell-task-post-build">Example 1 - Shell Task (Post-Build)<a href="#example-1---shell-task-post-build" class="hash-link" aria-label="Direct link to Example 1 - Shell Task (Post-Build)" title="Direct link to Example 1 - Shell Task (Post-Build)" translate="no">​</a></h4>
<p>Let&#x27;s take an example of a <strong>Shell task</strong> in the Post-Build stage, that send an email notification immediately after the build stage is completed.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tasks-configurations">Tasks Configurations<a href="#tasks-configurations" class="hash-link" aria-label="Direct link to Tasks Configurations" title="Direct link to Tasks Configurations" translate="no">​</a></h4>
<table><thead><tr><th style="text-align:left">Field</th><th style="text-align:left">Values for This Example</th><th style="text-align:left">Required/Optional</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>Task Name</code></td><td style="text-align:left"><code>email-notifier</code></td><td style="text-align:left">Required</td><td style="text-align:left">Enter a name for the task</td></tr><tr><td style="text-align:left"><code>Task Description</code></td><td style="text-align:left"><code>This task sends a email after the build is completed</code></td><td style="text-align:left">Optional</td><td style="text-align:left">Short description for the task</td></tr><tr><td style="text-align:left"><code>Task Type</code></td><td style="text-align:left"><code>Shell</code></td><td style="text-align:left">Optional</td><td style="text-align:left">Select the preferred task type</td></tr><tr><td style="text-align:left"><code>Script</code></td><td style="text-align:left">Refer the <a href="#script">Script</a> below</td><td style="text-align:left">Required</td><td style="text-align:left">Custom script for executing tasks</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h4>
<p>Make sure to create an App password for the sender&#x27;s email account to use in the script below. Refer the below video to learn how to create an App password for GMAIL accounts</p>
<div class="video-wrapper"><iframe width="560" height="315" src="https://www.youtube.com/embed/2Z_J4l2RJ8s" title="Creating App Password" frameborder="0"></iframe></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="script">Script<a href="#script" class="hash-link" aria-label="Direct link to Script" title="Direct link to Script" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">Custom Script</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">!/bin/bash</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># SMTP server settings for Gmail</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">SMTP_SERVER=&quot;smtp.gmail.com&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">SMTP_PORT=&quot;587&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">SMTP_USERNAME=&quot;docs@devtron.ai&quot; # Enter the sender&#x27;s email</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">SMTP_PASSWORD=&quot;xxxx-xxxx-xxxx-xxxx&quot; # Replace with 16-character App Password of Gmail</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># Recipient email address</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">TO=&quot;abc@gmail.com&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># Email subject and body</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">SUBJECT=&quot;Build is completed&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">BODY=&quot;Build Stage is successfully completed.&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># Construct the email message</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">MESSAGE=&quot;Subject: $SUBJECT\n\n$BODY&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"># Send the email using Curl</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">curl --url &quot;smtp://$SMTP_SERVER:$SMTP_PORT&quot; \</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">     --ssl-reqd \</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">     --mail-from &quot;$SMTP_USERNAME&quot; \</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">     --mail-rcpt &quot;$TO&quot; \</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">     --user &quot;$SMTP_USERNAME:$SMTP_PASSWORD&quot; \</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">     --tlsv1.2 \</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">     -T &lt;(echo -e &quot;$MESSAGE&quot;)</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo &quot;Email sent to $TO&quot;</span></span><br></span></code></pre></div></div>
<p>After the build stage is completes, this task will sends an email to notify you that the build stage is completed.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-2---shell-task-pre-build">Example 2 - Shell Task (Pre-Build)<a href="#example-2---shell-task-pre-build" class="hash-link" aria-label="Direct link to Example 2 - Shell Task (Pre-Build)" title="Direct link to Example 2 - Shell Task (Pre-Build)" translate="no">​</a></h4>
<p>Let&#x27;s take an example of a <strong>Shell task</strong> in the Pre-Build stage that ensures the database configured is prod-db. If the configured database is anything else, the build should stop.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tasks-configurations-1">Tasks Configurations<a href="#tasks-configurations-1" class="hash-link" aria-label="Direct link to Tasks Configurations" title="Direct link to Tasks Configurations" translate="no">​</a></h4>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-shell-example.jpg" alt="Figure 11a: Configuring Shell Task" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-shell-task-2.jpg" alt="Figure 11b: Configuring Pass/Fail Condition" class="img_ev3q"></p>
<table><thead><tr><th style="text-align:left">Field</th><th style="text-align:left">Values for This Example</th><th style="text-align:left">Required/Optional</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>Task Name</code></td><td style="text-align:left"><code>check-db-name</code></td><td style="text-align:left">Required</td><td style="text-align:left">Enter a name for the task</td></tr><tr><td style="text-align:left"><code>Task Description</code></td><td style="text-align:left"><code>This task stops the build if the database name is not &#x27;prod-db&#x27;</code></td><td style="text-align:left">Optional</td><td style="text-align:left">Short description for the task</td></tr><tr><td style="text-align:left"><code>Task Type</code></td><td style="text-align:left"><code>Shell</code></td><td style="text-align:left">Optional</td><td style="text-align:left">Select the preferred task type</td></tr><tr><td style="text-align:left"><code>Input variables</code></td><td style="text-align:left">Refer the <a href="#input-variable-table">Input Variable table</a> below</td><td style="text-align:left">Optional</td><td style="text-align:left"><p>These variables provide dynamic values to the script at the time of execution and are defined directly in the UI.<br></p><ul><li><strong>Variable name</strong>: Alphanumeric chars and (_) only</li><li><strong>Source or input value</strong>: The variable&#x27;s value can be global, output from the previous task, or a custom value.<br>Accepted data types include: STRING</li></ul></td></tr><tr><td style="text-align:left"><code>Trigger/Skip condition</code></td><td style="text-align:left">Not required for this example</td><td style="text-align:left">Optional</td><td style="text-align:left">A conditional statement to execute or skip the task</td></tr><tr><td style="text-align:left"><code>Script</code></td><td style="text-align:left">Refer the <a href="#script-1">Script</a> below</td><td style="text-align:left">Required</td><td style="text-align:left">Custom script for executing tasks</td></tr><tr><td style="text-align:left"><code>Output directory path</code></td><td style="text-align:left">Not required for this example</td><td style="text-align:left">Optional</td><td style="text-align:left">Directory path where output files such as logs, errors, etc. will be available after the execution.</td></tr><tr><td style="text-align:left"><code>Output variables</code></td><td style="text-align:left">Refer to the <a href="#output-variables">output variable</a> table</td><td style="text-align:left">Optional</td><td style="text-align:left"><p>Output variables  store the output as variables, and these variables can be used as input variables for the next task.</p><ul><li><a href="#passfail-condition">Pass/Failure Condition</a> (Optional): Conditional statements to determine the success/failure of the task. A failed condition stops the execution of the next task and/or build process</li></ul></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="input-variable-table">Input Variable Table<a href="#input-variable-table" class="hash-link" aria-label="Direct link to Input Variable Table" title="Direct link to Input Variable Table" translate="no">​</a></h4>
<table><thead><tr><th style="text-align:left">Variable</th><th style="text-align:left">Type</th><th style="text-align:left">Value</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>DB_NAME</code></td><td style="text-align:left">String</td><td style="text-align:left"><code>prod-db</code></td><td style="text-align:left">Name of the database to be backed up</td></tr></tbody></table>
<ul>
<li>
<p>To add an input variable, click <strong>+ Add Variable</strong> next to the <strong>Input Variable</strong>, a new table appears asking you to enter the variable and its required information.</p>
</li>
<li>
<p>You can click <code>+</code> icon next to <strong>Variable</strong> header field to add more rows to the input variable table.<br></p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-var-config.jpg" alt="Figure 12: Variable configuration" class="img_ev3q"></p>
</li>
<li>
<p>You can click the slider icon next to each variable name to make its value required and add a description for it.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-val-config.jpg" alt="Figure 13: Value configuration" class="img_ev3q"></p>
</li>
<li>
<p>You can click the slider icon next to each variable value to add choices, allow custom input, and ask value at runtime.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-add-choice.jpg" alt="Figure 14: Add choice" class="img_ev3q"></p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="script-1">Script<a href="#script-1" class="hash-link" aria-label="Direct link to Script" title="Direct link to Script" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">Custom Script</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#!/bin/sh </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">set -eo pipefail </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#set -v  ## uncomment this to debug the script </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">if [ &quot;$DB_NAME&quot; = &quot;prod-db&quot; ]; then</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  export DB_VALIDATION=pass</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  echo $DB_VALIDATION</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  echo &quot;Using valid database: $DB_NAME&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">else</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  export DB_VALIDATION=fail</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  echo $DB_VALIDATION</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  echo &quot;Unsupported DB: $DB_NAME. Only &#x27;prod-db&#x27; is allowed for this build.&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">fi</span></span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="output-variables">Output Variables<a href="#output-variables" class="hash-link" aria-label="Direct link to Output Variables" title="Direct link to Output Variables" translate="no">​</a></h4>
<table><thead><tr><th>Variable</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>DB_VALIDATION</code></td><td>String</td><td>Indicates whether the DB is valid (pass or fail)</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="passfail-condition">Pass/Fail Condition<a href="#passfail-condition" class="hash-link" aria-label="Direct link to Pass/Fail Condition" title="Direct link to Pass/Fail Condition" translate="no">​</a></h4>
<p>PASS If: <code>DB_VALIDATION == pass</code></p>
<p>After adding this database validation task, you can add more tasks as well, for example, you can add a follow-up Pre-Build task that runs only if the database is valid.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-3---container-image-task">Example 3 - Container Image Task<a href="#example-3---container-image-task" class="hash-link" aria-label="Direct link to Example 3 - Container Image Task" title="Direct link to Example 3 - Container Image Task" translate="no">​</a></h4>
<p>Let&#x27;s take an example of a <strong>Container Image Task</strong> that verify that the configured database is reachable and accepting connections before executing build stage. This ensures that the build does not proceed if the database configuration is incorrect or unreachable, saving time and resources.</p>
<p>Since we have already configured a shell task to validate the database name, we will add this task after the shell task; This means it will execute after the shell task. This container image task will run only if that check passes, to verify that we are connecting to the correct database and that it is reachable before the build starts.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tasks-configurations-2">Tasks Configurations<a href="#tasks-configurations-2" class="hash-link" aria-label="Direct link to Tasks Configurations" title="Direct link to Tasks Configurations" translate="no">​</a></h4>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-container-task.jpg" alt="Figure 15a: Container Image Task" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-container-task-2.jpg" alt="Figure 15b: Configuring task" class="img_ev3q"></p>
<table><thead><tr><th style="text-align:left">Field</th><th style="text-align:left">Values for This Example</th><th style="text-align:left">Required/Optional</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>Task name</code></td><td style="text-align:left"><code>verify-db-connectivity</code></td><td style="text-align:left">Required</td><td style="text-align:left">Enter a name for the task</td></tr><tr><td style="text-align:left"><code>Description</code></td><td style="text-align:left">Verify DB connection before build</td><td style="text-align:left">Optional</td><td style="text-align:left">A descriptive message for the task</td></tr><tr><td style="text-align:left"><code>Task type</code></td><td style="text-align:left"><code>Container Image</code></td><td style="text-align:left">Optional</td><td style="text-align:left">Allows you to execute commands and scripts inside a custom Docker container</td></tr><tr><td style="text-align:left"><code>Input variables</code></td><td style="text-align:left">Refer the <a href="#input-variable-table-1">Input Variable table</a> below</td><td style="text-align:left">Optional</td><td style="text-align:left"><p>These variables provide dynamic values to the script and are defined directly in the UI.<br></p><ul><li><strong>Variable name</strong>: Alphanumeric chars and (_) only</li><li><strong>Source or input value</strong>: The variable&#x27;s value can be global, output from the previous task, or a custom value.<br>Accepted data types include: STRING</li></ul></td></tr><tr><td style="text-align:left"><code>Trigger/Skip condition</code></td><td style="text-align:left"><code>DB_VALIDATION == pass</code></td><td style="text-align:left">Optional</td><td style="text-align:left">Execute or skip the task based on the condition provided.</td></tr><tr><td style="text-align:left"><code>Container image</code></td><td style="text-align:left"><code>mysql:8.0</code></td><td style="text-align:left">Required</td><td style="text-align:left">Select an image from the drop-down list or enter a custom value in the format <code>&lt;image&gt;:&lt;tag&gt;</code></td></tr><tr><td style="text-align:left"><code>Mount custom code</code></td><td style="text-align:left">Refer below <a href="#mount-custom-code">Mount custom code</a> section</td><td style="text-align:left">Optional</td><td style="text-align:left"><p>Enable to mount the custom code in the container. Enter the script in the box below.</p><ul><li><strong>Mount above code at</strong> (required): Path where the code should be mounted, eg, <code>/scripts</code></li></ul></td></tr><tr><td style="text-align:left"><code>Command</code></td><td style="text-align:left"><code>sh</code></td><td style="text-align:left">Optional</td><td style="text-align:left">Mention commands to execute inside the container</td></tr><tr><td style="text-align:left"><code>Args</code></td><td style="text-align:left"><code>/scripts/check-db.sh</code></td><td style="text-align:left">Optional</td><td style="text-align:left">The arguments to be passed to the command mentioned in the command field</td></tr><tr><td style="text-align:left"><code>Port mapping</code></td><td style="text-align:left"><code>No</code></td><td style="text-align:left">Optional</td><td style="text-align:left">The port number on which the container listens. The port number exposes the container to outside services.</td></tr><tr><td style="text-align:left"><code>Mount code to container</code></td><td style="text-align:left"><code>yes</code></td><td style="text-align:left">Optional</td><td style="text-align:left">Mounts the source code (configured git repository) inside the container. The default is &quot;No&quot;. If set to &quot;Yes&quot;, enter the path where the source should be mounted inside the container.</td></tr><tr><td style="text-align:left"><code>Mount directory from host</code></td><td style="text-align:left"><code>No</code></td><td style="text-align:left">Optional</td><td style="text-align:left">Mount any directory from the host into the container. This can be used to mount code or even output directories.</td></tr><tr><td style="text-align:left"><code>Output directory path</code></td><td style="text-align:left"><code>No</code></td><td style="text-align:left">Optional</td><td style="text-align:left">Directory path where output files such as logs, errors, etc. will be available after the execution.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="input-variable-table-1">Input Variable Table<a href="#input-variable-table-1" class="hash-link" aria-label="Direct link to Input Variable Table" title="Direct link to Input Variable Table" translate="no">​</a></h4>
<table><thead><tr><th style="text-align:left">Variable</th><th style="text-align:left">Type</th><th style="text-align:left">Value</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>DB_NAME</code></td><td style="text-align:left">String</td><td style="text-align:left"><code>prod-db</code></td><td style="text-align:left">Name of the database</td></tr><tr><td style="text-align:left"><code>DB_HOST</code></td><td style="text-align:left">String</td><td style="text-align:left"><code>192.168.1.10</code></td><td style="text-align:left">Database hostname or IP address</td></tr><tr><td style="text-align:left"><code>DB_USER</code></td><td style="text-align:left">String</td><td style="text-align:left"><code>root</code></td><td style="text-align:left">Database user</td></tr></tbody></table>
<ul>
<li>
<p>To add an input variable, click <strong>+ Add Variable</strong> next to the <code>Input Variable</code>, a new table appears asking you to enter the variable and its required information.</p>
</li>
<li>
<p>You can click <code>+</code> icon next to <strong>Variable</strong> header field to add more rows to the input variable table.<br></p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-var-config.jpg" alt="Figure 16: Variable configuration" class="img_ev3q"></p>
</li>
<li>
<p>You can click the slider icon next to each variable name to make its value required and add a description for it.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-val-config.jpg" alt="Figure 17: Value configuration" class="img_ev3q"></p>
</li>
<li>
<p>You can click the slider icon next to each variable value to add choices, allow custom input, and ask value at runtime.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-add-choice.jpg" alt="Figure 18: Add choice" class="img_ev3q"></p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="mount-custom-code">Mount Custom Code<a href="#mount-custom-code" class="hash-link" aria-label="Direct link to Mount Custom Code" title="Direct link to Mount Custom Code" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">Custom Script</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">#!/bin/sh</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">set -e</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">echo &quot;Checking database connectivity to $DB_NAME at $DB_HOST...&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">mysql -h &quot;$DB_HOST&quot; -u &quot;$DB_USER&quot; -p&quot;$DB_PASSWORD&quot; -e &quot;SELECT 1;&quot; &quot;$DB_NAME&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">if [ $? -eq 0 ]; then</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  echo &quot;DB_CONNECTION=pass&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  echo &quot;Database connectivity check passed.&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">else</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  echo &quot;DB_CONNECTION=fail&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  echo &quot;Database connectivity check failed.&quot;</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  exit 1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#F8F8F2"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">fi</span></span><br></span></code></pre></div></div>
<p><strong>Note:</strong> The examples above demonstrate configuring tasks in the Pre-Build and Post-Build stages; you can add tasks in the Pre-Deployment, and Post-Deployment stages in exactly the same way.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-configurations-for-prepost-deployment-tasks">Additional configurations for Pre/Post-Deployment Tasks<a href="#additional-configurations-for-prepost-deployment-tasks" class="hash-link" aria-label="Direct link to Additional configurations for Pre/Post-Deployment Tasks" title="Direct link to Additional configurations for Pre/Post-Deployment Tasks" translate="no">​</a></h2>
<p>Pre/Post-Deployment Tasks have some additional configurations (required and optional) which are not available in Pre/Post build tasks. These configurations are explained below</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="trigger-prepost-deployment-stage">Trigger Pre/Post-Deployment Stage<a href="#trigger-prepost-deployment-stage" class="hash-link" aria-label="Direct link to Trigger Pre/Post-Deployment Stage" title="Direct link to Trigger Pre/Post-Deployment Stage" translate="no">​</a></h3>
<p>The execution of the Pre/Post-Deployment stages can be set to:</p>
<p><strong>Automatically (default):</strong></p>
<ul>
<li>Pre-deployment stage will trigger automatically when the build image is available.</li>
<li>Post-deployment stage will trigger automatically after the successful deployment.</li>
</ul>
<p><strong>Manually:</strong> The User needs to trigger the Pre/Post-Deployment stages manually.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-trigger-post.jpg" alt="Figure 19: Trigger Deployment Pipeline" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configmaps--secrets">ConfigMaps &amp; Secrets<a href="#configmaps--secrets" class="hash-link" aria-label="Direct link to ConfigMaps &amp; Secrets" title="Direct link to ConfigMaps &amp; Secrets" translate="no">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Prerequisites</div><div class="admonitionContent_BuS1"><p>Make sure you have added <a href="/docs/user-guide/creating-application/base-config/config-maps">ConfigMaps</a> and <a href="/docs/user-guide/creating-application/base-config/secrets">Secrets</a> in App Configuration.</p></div></div>
<p>If you want to use some configuration files and secrets in pre-deployment stages or post-deployment stages, then you can use the <code>ConfigMaps</code> &amp; <code>Secrets</code> options. You will get them as a drop-down in the pre-deployment stage.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-cm-secret.jpg" alt="Figure 20: ConfigMaps &amp; Secrets" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="execute-tasks-in-an-application-environment">Execute tasks in an application environment<a href="#execute-tasks-in-an-application-environment" class="hash-link" aria-label="Direct link to Execute tasks in an application environment" title="Direct link to Execute tasks in an application environment" translate="no">​</a></h3>
<p>These <code>Pre-deployment CD / Post-deployment CD</code> pods can be created in your deployment cluster or the Devtron build cluster. If your scripts/tasks has some dependency on the deployment environment, you may run these pods in the deployment cluster. Thus, your scripts (if any) can interact with the cluster services that may not be publicly exposed.</p>
<p>Some tasks require extra permissions for the node where Devtron is installed. However, if the node already has the necessary permissions for deploying applications, there is no need to assign them again. Instead, you can enable the <strong>Execute tasks in application environment</strong> option for the pre-CD or post-CD steps. By default, this option is disabled.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/global-configurations/sso-login-service/pre-post-execute-tasks.jpg" alt="Figure 21: Execute tasks in application environment" class="img_ev3q"></p>
<p>To enable the <code>Execute tasks in application environment</code> option, follow these steps:</p>
<ol>
<li>
<p>Go to the <strong>Chart Store</strong> and search for the <code>devtron-in-clustercd</code> chart.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/workflow-cd-pipeline/devtron-incluster-chart.jpg" alt="Figure 22: &#x27;devtron-in-clustercd&#x27; Chart" class="img_ev3q"></p>
</li>
<li>
<p>Configure the chart according to your requirements and deploy it in the target cluster.</p>
</li>
<li>
<p>After the deployment, edit the devtron-cm configmap and add the following key-value pair:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ORCH_HOST: &lt;host_url&gt;/orchestrator/webhook/msg/nats</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Example:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ORCH_HOST: http://xyz.devtron.com/orchestrator/webhook/msg/nats</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p><code>ORCH_HOST</code> value should be the same as of <code>CD_EXTERNAL_LISTENER_URL</code> value, which is passed in values.yaml.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/workflow-cd-pipeline/incluster-configuration.jpg" alt="Figure 23: Configuration" class="img_ev3q"></p>
</li>
<li>
<p>Delete the Devtron pod using the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl delete pod -l app=devtron -n devtroncd</span><br></span></code></pre></div></div>
</li>
<li>
<p>Again, navigate to the chart store and search for the &quot;migration-incluster-cd&quot; chart.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/workflow-cd-pipeline/migration-incluster-chart.jpg" alt="Figure 24: &#x27;migration-incluster-cd&#x27; chart" class="img_ev3q"></p>
</li>
<li>
<p>Edit the <code>cluster-name</code> and <code>secret name</code> values within the chart. The <code>cluster name</code> refers to the name used when adding the cluster in the global configuration and for which you are going to enable <code>Execute tasks in application environment</code> option.</p>
<p><img decoding="async" loading="lazy" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/workflow-cd-pipeline/migration-incluster.jpg" alt="Figure 25: Configuration" class="img_ev3q"></p>
</li>
<li>
<p>Deploy the chart in any environment within the Devtron cluster. Now you should be able to enable the <code>Execute tasks in application environment</code> option for an environment of target cluster.</p>
</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next">What&#x27;s next<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s next" title="Direct link to What&#x27;s next" translate="no">​</a></h2>
<ul>
<li>
<p>Trigger the <a href="/docs/user-guide/deploying-application/triggering-ci">CI pipeline</a></p>
</li>
<li>
<p>Trigger the <a href="/docs/user-guide/deploying-application/triggering-cd">CD pipeline</a></p>
</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/user-guide/creating-application/workflow/cd-pipeline"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">CD Pipeline</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/user-guide/creating-application/environment-overrides"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Environment Overrides</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#before-you-begin" class="table-of-contents__link toc-highlight">Before you begin</a></li><li><a href="#creating-prepost-tasks" class="table-of-contents__link toc-highlight">Creating Pre/Post Tasks</a><ul><li><a href="#configure-a-task-using-preset-plugins" class="table-of-contents__link toc-highlight">Configure a Task using Preset Plugins</a></li><li><a href="#execute-custom-task" class="table-of-contents__link toc-highlight">Execute Custom Task</a></li><li><a href="#examples-and-use-cases" class="table-of-contents__link toc-highlight">Examples and Use Cases</a></li></ul></li><li><a href="#additional-configurations-for-prepost-deployment-tasks" class="table-of-contents__link toc-highlight">Additional configurations for Pre/Post-Deployment Tasks</a><ul><li><a href="#trigger-prepost-deployment-stage" class="table-of-contents__link toc-highlight">Trigger Pre/Post-Deployment Stage</a></li><li><a href="#configmaps--secrets" class="table-of-contents__link toc-highlight">ConfigMaps &amp; Secrets</a></li><li><a href="#execute-tasks-in-an-application-environment" class="table-of-contents__link toc-highlight">Execute tasks in an application environment</a></li></ul></li><li><a href="#whats-next" class="table-of-contents__link toc-highlight">What&#39;s next</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><span class="footer__link-item">
              <div style="text-align: center;">
                <div style="margin-bottom: 1rem;">
                  <a href="/" style="display: inline-block;">
                    <img src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/hlogos/devtron-logo-horizontal-black.svg" alt="Devtron Logo" width="160" class="footer-logo light-mode-only">
                    <img src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/hlogos/devtron-logo-horizontal-white.svg" alt="Devtron Logo" width="160" class="footer-logo dark-mode-only">
                  </a>
                </div>
                <p class="footer-desc" style="margin: 1rem 0; font-size: 0.95rem;">
                  Unlock the full value of K8s, and bridge the gap between development and operations team.
                </p>
                <div style="margin-bottom: 1rem;">
                  <a href="https://discord.gg/jsRG5qx2gp" target="_blank" style="margin: 0 8px;">
                    <img class="footer-icon" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/socials/discord.svg" alt="Join Discord" height="24">
                  </a>
                  <a href="https://github.com/devtron-labs/devtron" target="_blank" style="margin: 0 8px;">
                    <img class="footer-icon" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/socials/github.svg" alt="GitHub" height="24">
                  </a>
                  <a href="https://linkedin.com/company/devtron-labs" target="_blank" style="margin: 0 8px;">
                    <img class="footer-icon" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/socials/linkedin.svg" alt="LinkedIn" height="24">
                  </a>
                  <a href="https://x.com/DevtronL" target="_blank" style="margin: 0 8px;">
                    <img class="footer-icon" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/socials/x.svg" alt="X" height="24">
                  </a>
                  <a href="https://devtron.ai/blog/" target="_blank" style="margin: 0 8px;">
                    <img class="footer-icon" src="https://devtron-public-asset.s3.us-east-2.amazonaws.com/cms-assets/img/socials/blog.svg" alt="Devtron Blogs" height="24">
                  </a>
                </div>
                <div style="margin-bottom: 1rem;">
                  <a href="https://devtron.ai/privacy-policy" target="_blank" style="margin: 0 12px;">Privacy</a>
                  <a href="https://devtron.ai/terms-of-use" target="_blank" style="margin: 0 12px;">Terms</a>
                  <a href="https://devtron.ai/about" target="_blank" style="margin: 0 12px;">About Us</a>
                </div>
              </div>
            </span></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Devtron Inc.</div></div></div></footer></div>
</body>
</html>